<mxfile host="Electron" modified="2023-11-13T03:29:54.471Z" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/22.0.3 Chrome/114.0.5735.289 Electron/25.8.4 Safari/537.36" etag="kYn8cXS9YFXMcFCMCieG" version="22.0.3" type="device">
  <diagram name="Page-1" id="LQHmXahRcbNmE37PoTwx">
    <mxGraphModel dx="6010" dy="3584" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="4tizs78YW9SBr6ShEjhp-94" value="" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="9940" y="290" width="940" height="490" as="geometry" />
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-72" value="" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="8420" y="470" width="1470" height="340" as="geometry" />
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-11" value="" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="5390" y="272.82" width="630" height="367.18" as="geometry" />
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-9" value="" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="7010" y="480" width="420" height="220" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-241" value="" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="5190" y="400" width="160" height="580" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-238" value="" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="10" y="-230" width="5110" height="1620" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-222" value="" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="3460" y="220" width="1430" height="630" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-178" value="" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="900" y="-70" width="2120" height="610" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-163" value="" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="910" y="80" width="1390" height="440" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-159" value="" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1260" y="240" width="850" height="240" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-44" value="" style="group" parent="1" vertex="1" connectable="0">
          <mxGeometry x="80" y="320" width="260" height="300" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-42" value="" style="rounded=0;whiteSpace=wrap;html=1;" parent="SqvEXbBRjMXHBvI3jpd7-44" vertex="1">
          <mxGeometry y="30" width="260" height="270" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-4" value="poses&lt;br&gt;nx15" style="rounded=1;whiteSpace=wrap;html=1;" parent="SqvEXbBRjMXHBvI3jpd7-44" vertex="1">
          <mxGeometry x="20" y="50" width="80" height="50" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-5" value="reshape and transpose&lt;br&gt;3x5xn" style="rounded=1;whiteSpace=wrap;html=1;" parent="SqvEXbBRjMXHBvI3jpd7-44" vertex="1">
          <mxGeometry x="140" y="45" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-6" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="SqvEXbBRjMXHBvI3jpd7-44" source="SqvEXbBRjMXHBvI3jpd7-4" target="SqvEXbBRjMXHBvI3jpd7-5" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-7" value="bounds&lt;br&gt;nx2" style="rounded=1;whiteSpace=wrap;html=1;" parent="SqvEXbBRjMXHBvI3jpd7-44" vertex="1">
          <mxGeometry x="20" y="140" width="80" height="50" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-8" value="transpose&lt;br&gt;2xn" style="rounded=1;whiteSpace=wrap;html=1;" parent="SqvEXbBRjMXHBvI3jpd7-44" vertex="1">
          <mxGeometry x="150" y="140" width="80" height="50" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-9" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="SqvEXbBRjMXHBvI3jpd7-44" source="SqvEXbBRjMXHBvI3jpd7-7" target="SqvEXbBRjMXHBvI3jpd7-8" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-39" value="images&lt;br&gt;hxwx3xn" style="rounded=1;whiteSpace=wrap;html=1;" parent="SqvEXbBRjMXHBvI3jpd7-44" vertex="1">
          <mxGeometry x="20" y="230" width="80" height="50" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-40" value="Normalize (/255)&lt;br&gt;hxwx3xn" style="rounded=1;whiteSpace=wrap;html=1;" parent="SqvEXbBRjMXHBvI3jpd7-44" vertex="1">
          <mxGeometry x="150" y="230" width="80" height="50" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-41" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="SqvEXbBRjMXHBvI3jpd7-44" source="SqvEXbBRjMXHBvI3jpd7-39" target="SqvEXbBRjMXHBvI3jpd7-40" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-43" value="_load_data" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="SqvEXbBRjMXHBvI3jpd7-44" vertex="1">
          <mxGeometry x="190" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-101" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="SqvEXbBRjMXHBvI3jpd7-45" target="SqvEXbBRjMXHBvI3jpd7-100" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-45" value="rotation matrix correction -&amp;gt; OpenGL format&lt;br&gt;(3x5xn)" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="425" y="365" width="105" height="57.5" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-46" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="SqvEXbBRjMXHBvI3jpd7-5" target="SqvEXbBRjMXHBvI3jpd7-45" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-49" value="" style="group" parent="1" vertex="1" connectable="0">
          <mxGeometry x="80" y="150" width="260" height="120" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-34" value="" style="group" parent="SqvEXbBRjMXHBvI3jpd7-49" vertex="1" connectable="0">
          <mxGeometry y="30" width="260" height="90" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-12" value="" style="shape=table;startSize=0;container=1;collapsible=0;childLayout=tableLayout;fontSize=16;" parent="SqvEXbBRjMXHBvI3jpd7-34" vertex="1">
          <mxGeometry width="160" height="90" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-13" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=16;" parent="SqvEXbBRjMXHBvI3jpd7-12" vertex="1">
          <mxGeometry width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-14" value="R1" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontSize=16;" parent="SqvEXbBRjMXHBvI3jpd7-13" vertex="1">
          <mxGeometry width="52" height="30" as="geometry">
            <mxRectangle width="52" height="30" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-15" value="R2" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontSize=16;" parent="SqvEXbBRjMXHBvI3jpd7-13" vertex="1">
          <mxGeometry x="52" width="56" height="30" as="geometry">
            <mxRectangle width="56" height="30" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-16" value="R3" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontSize=16;" parent="SqvEXbBRjMXHBvI3jpd7-13" vertex="1">
          <mxGeometry x="108" width="52" height="30" as="geometry">
            <mxRectangle width="52" height="30" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-17" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=16;" parent="SqvEXbBRjMXHBvI3jpd7-12" vertex="1">
          <mxGeometry y="30" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-18" value="R4" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontSize=16;" parent="SqvEXbBRjMXHBvI3jpd7-17" vertex="1">
          <mxGeometry width="52" height="30" as="geometry">
            <mxRectangle width="52" height="30" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-19" value="R5" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontSize=16;" parent="SqvEXbBRjMXHBvI3jpd7-17" vertex="1">
          <mxGeometry x="52" width="56" height="30" as="geometry">
            <mxRectangle width="56" height="30" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-20" value="R6" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontSize=16;" parent="SqvEXbBRjMXHBvI3jpd7-17" vertex="1">
          <mxGeometry x="108" width="52" height="30" as="geometry">
            <mxRectangle width="52" height="30" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-21" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=16;" parent="SqvEXbBRjMXHBvI3jpd7-12" vertex="1">
          <mxGeometry y="60" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-22" value="R7" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontSize=16;" parent="SqvEXbBRjMXHBvI3jpd7-21" vertex="1">
          <mxGeometry width="52" height="30" as="geometry">
            <mxRectangle width="52" height="30" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-23" value="R8" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontSize=16;" parent="SqvEXbBRjMXHBvI3jpd7-21" vertex="1">
          <mxGeometry x="52" width="56" height="30" as="geometry">
            <mxRectangle width="56" height="30" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-24" value="R9" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontSize=16;" parent="SqvEXbBRjMXHBvI3jpd7-21" vertex="1">
          <mxGeometry x="108" width="52" height="30" as="geometry">
            <mxRectangle width="52" height="30" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-28" value="image H" style="rounded=0;whiteSpace=wrap;html=1;" parent="SqvEXbBRjMXHBvI3jpd7-34" vertex="1">
          <mxGeometry x="210" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-29" value="origin_x" style="rounded=0;whiteSpace=wrap;html=1;" parent="SqvEXbBRjMXHBvI3jpd7-34" vertex="1">
          <mxGeometry x="160" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-30" value="image W" style="rounded=0;whiteSpace=wrap;html=1;" parent="SqvEXbBRjMXHBvI3jpd7-34" vertex="1">
          <mxGeometry x="210" y="30" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-31" value="origin_y" style="rounded=0;whiteSpace=wrap;html=1;" parent="SqvEXbBRjMXHBvI3jpd7-34" vertex="1">
          <mxGeometry x="160" y="30" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-32" value="focal length" style="rounded=0;whiteSpace=wrap;html=1;" parent="SqvEXbBRjMXHBvI3jpd7-34" vertex="1">
          <mxGeometry x="210" y="60" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-33" value="origin_z" style="rounded=0;whiteSpace=wrap;html=1;" parent="SqvEXbBRjMXHBvI3jpd7-34" vertex="1">
          <mxGeometry x="160" y="60" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-36" value="Example Pose array" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="SqvEXbBRjMXHBvI3jpd7-49" vertex="1">
          <mxGeometry x="90" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-76" value="" style="group" parent="1" vertex="1" connectable="0">
          <mxGeometry x="380" y="190" width="260" height="120" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-77" value="" style="group" parent="SqvEXbBRjMXHBvI3jpd7-76" vertex="1" connectable="0">
          <mxGeometry y="30" width="260" height="90" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-78" value="" style="shape=table;startSize=0;container=1;collapsible=0;childLayout=tableLayout;fontSize=16;" parent="SqvEXbBRjMXHBvI3jpd7-77" vertex="1">
          <mxGeometry width="160" height="90" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-79" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=16;" parent="SqvEXbBRjMXHBvI3jpd7-78" vertex="1">
          <mxGeometry width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-80" value="R2" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontSize=16;" parent="SqvEXbBRjMXHBvI3jpd7-79" vertex="1">
          <mxGeometry width="52" height="30" as="geometry">
            <mxRectangle width="52" height="30" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-81" value="-R1" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontSize=16;" parent="SqvEXbBRjMXHBvI3jpd7-79" vertex="1">
          <mxGeometry x="52" width="56" height="30" as="geometry">
            <mxRectangle width="56" height="30" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-82" value="R3" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontSize=16;" parent="SqvEXbBRjMXHBvI3jpd7-79" vertex="1">
          <mxGeometry x="108" width="52" height="30" as="geometry">
            <mxRectangle width="52" height="30" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-83" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=16;" parent="SqvEXbBRjMXHBvI3jpd7-78" vertex="1">
          <mxGeometry y="30" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-84" value="R5" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontSize=16;" parent="SqvEXbBRjMXHBvI3jpd7-83" vertex="1">
          <mxGeometry width="52" height="30" as="geometry">
            <mxRectangle width="52" height="30" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-85" value="-R4" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontSize=16;" parent="SqvEXbBRjMXHBvI3jpd7-83" vertex="1">
          <mxGeometry x="52" width="56" height="30" as="geometry">
            <mxRectangle width="56" height="30" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-86" value="R6" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontSize=16;" parent="SqvEXbBRjMXHBvI3jpd7-83" vertex="1">
          <mxGeometry x="108" width="52" height="30" as="geometry">
            <mxRectangle width="52" height="30" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-87" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=16;" parent="SqvEXbBRjMXHBvI3jpd7-78" vertex="1">
          <mxGeometry y="60" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-88" value="R8" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontSize=16;" parent="SqvEXbBRjMXHBvI3jpd7-87" vertex="1">
          <mxGeometry width="52" height="30" as="geometry">
            <mxRectangle width="52" height="30" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-89" value="-R7" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontSize=16;" parent="SqvEXbBRjMXHBvI3jpd7-87" vertex="1">
          <mxGeometry x="52" width="56" height="30" as="geometry">
            <mxRectangle width="56" height="30" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-90" value="R9" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontSize=16;" parent="SqvEXbBRjMXHBvI3jpd7-87" vertex="1">
          <mxGeometry x="108" width="52" height="30" as="geometry">
            <mxRectangle width="52" height="30" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-91" value="image H" style="rounded=0;whiteSpace=wrap;html=1;" parent="SqvEXbBRjMXHBvI3jpd7-77" vertex="1">
          <mxGeometry x="210" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-92" value="origin_x" style="rounded=0;whiteSpace=wrap;html=1;" parent="SqvEXbBRjMXHBvI3jpd7-77" vertex="1">
          <mxGeometry x="160" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-93" value="image W" style="rounded=0;whiteSpace=wrap;html=1;" parent="SqvEXbBRjMXHBvI3jpd7-77" vertex="1">
          <mxGeometry x="210" y="30" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-94" value="origin_y" style="rounded=0;whiteSpace=wrap;html=1;" parent="SqvEXbBRjMXHBvI3jpd7-77" vertex="1">
          <mxGeometry x="160" y="30" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-95" value="focal length" style="rounded=0;whiteSpace=wrap;html=1;" parent="SqvEXbBRjMXHBvI3jpd7-77" vertex="1">
          <mxGeometry x="210" y="60" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-96" value="origin_z" style="rounded=0;whiteSpace=wrap;html=1;" parent="SqvEXbBRjMXHBvI3jpd7-77" vertex="1">
          <mxGeometry x="160" y="60" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-97" value="Example Pose array" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="SqvEXbBRjMXHBvI3jpd7-76" vertex="1">
          <mxGeometry x="90" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-99" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.644;entryY=1.042;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="SqvEXbBRjMXHBvI3jpd7-45" target="SqvEXbBRjMXHBvI3jpd7-87" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="483" y="365" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-109" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="SqvEXbBRjMXHBvI3jpd7-100" target="SqvEXbBRjMXHBvI3jpd7-108" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-100" value="moveaxis&lt;br&gt;(nx3x5)" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="585" y="366.88" width="80" height="53.75" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-107" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="SqvEXbBRjMXHBvI3jpd7-102" target="SqvEXbBRjMXHBvI3jpd7-106" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-113" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="SqvEXbBRjMXHBvI3jpd7-102" target="SqvEXbBRjMXHBvI3jpd7-111" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="690" y="485" />
              <mxPoint x="690" y="568" />
              <mxPoint x="880" y="568" />
              <mxPoint x="880" y="628" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-102" value="moveaxis&lt;br&gt;(nx2)" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="585" y="460" width="80" height="50" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-103" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="SqvEXbBRjMXHBvI3jpd7-8" target="SqvEXbBRjMXHBvI3jpd7-102" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-234" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="SqvEXbBRjMXHBvI3jpd7-104" target="SqvEXbBRjMXHBvI3jpd7-235" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="5180" y="930" as="targetPoint" />
            <Array as="points">
              <mxPoint x="625" y="1330" />
              <mxPoint x="5100" y="1330" />
              <mxPoint x="5100" y="930" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-104" value="moveaxis&lt;br&gt;nxhxwx3" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="585" y="550" width="80" height="50" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-105" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="SqvEXbBRjMXHBvI3jpd7-40" target="SqvEXbBRjMXHBvI3jpd7-104" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-110" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="SqvEXbBRjMXHBvI3jpd7-106" target="SqvEXbBRjMXHBvI3jpd7-108" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-112" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="SqvEXbBRjMXHBvI3jpd7-106" target="SqvEXbBRjMXHBvI3jpd7-111" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="800" y="550" />
              <mxPoint x="975" y="550" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-106" value="scaling&amp;nbsp;factor&lt;br&gt;1/(min(bounds) * bounds factor)" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="720" y="460" width="160" height="46.25" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-115" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="SqvEXbBRjMXHBvI3jpd7-108" target="SqvEXbBRjMXHBvI3jpd7-114" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="920" y="394" />
              <mxPoint x="920" y="200" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-117" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="SqvEXbBRjMXHBvI3jpd7-108" target="SqvEXbBRjMXHBvI3jpd7-116" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="930" y="394" />
              <mxPoint x="930" y="283" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-134" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="SqvEXbBRjMXHBvI3jpd7-108" target="SqvEXbBRjMXHBvI3jpd7-133" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-140" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" target="SqvEXbBRjMXHBvI3jpd7-139" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="770" y="380.0833333333335" as="sourcePoint" />
            <mxPoint x="930.0000000000002" y="90" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-167" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="SqvEXbBRjMXHBvI3jpd7-108" target="SqvEXbBRjMXHBvI3jpd7-168" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="2352.0001220703125" y="340" as="targetPoint" />
            <Array as="points">
              <mxPoint x="803" y="30" />
              <mxPoint x="2340" y="30" />
              <mxPoint x="2340" y="320" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-177" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="SqvEXbBRjMXHBvI3jpd7-108" target="SqvEXbBRjMXHBvI3jpd7-175" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="802" y="-30" />
              <mxPoint x="2910" y="-30" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-108" value="scale translation values&lt;br&gt;(origin_x, origin_y, origin_z)&lt;br&gt;(nx3x5)" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="720" y="366.88" width="165" height="53.75" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-188" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="SqvEXbBRjMXHBvI3jpd7-111" target="SqvEXbBRjMXHBvI3jpd7-187" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-231" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="SqvEXbBRjMXHBvI3jpd7-111" target="SqvEXbBRjMXHBvI3jpd7-232" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="5170" y="801.1429268973214" as="targetPoint" />
            <Array as="points">
              <mxPoint x="975" y="1100" />
              <mxPoint x="5030" y="1100" />
              <mxPoint x="5030" y="801" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-111" value="scale bounds&lt;br&gt;bounds * scaling factor" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="930" y="600" width="90" height="56.25" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-157" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="SqvEXbBRjMXHBvI3jpd7-114" target="SqvEXbBRjMXHBvI3jpd7-154" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-114" value="camera_center:&lt;br&gt;poses[:, :3, 3].mean(0) -&amp;gt; center&lt;br&gt;(3)" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="950" y="170" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-132" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="SqvEXbBRjMXHBvI3jpd7-116" target="SqvEXbBRjMXHBvI3jpd7-131" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-116" value="last column of rotation matrix [R3, R6, R9) summed along entries. -&amp;gt; vec2 (is it z vector?)&lt;br&gt;(3)" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="960" y="256.25" width="170" height="73.75" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-118" value="" style="shape=table;startSize=0;container=1;collapsible=0;childLayout=tableLayout;fontSize=16;" parent="1" vertex="1">
          <mxGeometry x="70" y="-190" width="380" height="270" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-119" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=16;" parent="SqvEXbBRjMXHBvI3jpd7-118" vertex="1">
          <mxGeometry width="380" height="90" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-120" value="R1&lt;br&gt;(projection of new y with old x)" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontSize=16;" parent="SqvEXbBRjMXHBvI3jpd7-119" vertex="1">
          <mxGeometry width="124" height="90" as="geometry">
            <mxRectangle width="124" height="90" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-121" value="R2&lt;br style=&quot;border-color: var(--border-color);&quot;&gt;(projection of new x with old x)" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontSize=16;" parent="SqvEXbBRjMXHBvI3jpd7-119" vertex="1">
          <mxGeometry x="124" width="133" height="90" as="geometry">
            <mxRectangle width="133" height="90" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-122" value="R3&lt;br&gt;(projection of new z with old x)" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontSize=16;" parent="SqvEXbBRjMXHBvI3jpd7-119" vertex="1">
          <mxGeometry x="257" width="123" height="90" as="geometry">
            <mxRectangle width="123" height="90" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-123" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=16;" parent="SqvEXbBRjMXHBvI3jpd7-118" vertex="1">
          <mxGeometry y="90" width="380" height="90" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-124" value="R4&lt;br&gt;(projection of new y with old y)" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontSize=16;" parent="SqvEXbBRjMXHBvI3jpd7-123" vertex="1">
          <mxGeometry width="124" height="90" as="geometry">
            <mxRectangle width="124" height="90" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-125" value="R5&lt;br&gt;(projection of new x with old y)" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontSize=16;" parent="SqvEXbBRjMXHBvI3jpd7-123" vertex="1">
          <mxGeometry x="124" width="133" height="90" as="geometry">
            <mxRectangle width="133" height="90" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-126" value="R6&lt;br&gt;(projection of new z with old y)" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontSize=16;" parent="SqvEXbBRjMXHBvI3jpd7-123" vertex="1">
          <mxGeometry x="257" width="123" height="90" as="geometry">
            <mxRectangle width="123" height="90" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-127" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=16;" parent="SqvEXbBRjMXHBvI3jpd7-118" vertex="1">
          <mxGeometry y="180" width="380" height="90" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-128" value="R7&lt;br&gt;(projection of new y with old z)" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontSize=16;" parent="SqvEXbBRjMXHBvI3jpd7-127" vertex="1">
          <mxGeometry width="124" height="90" as="geometry">
            <mxRectangle width="124" height="90" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-129" value="R8&lt;br&gt;(projection of new x with old z)" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontSize=16;" parent="SqvEXbBRjMXHBvI3jpd7-127" vertex="1">
          <mxGeometry x="124" width="133" height="90" as="geometry">
            <mxRectangle width="133" height="90" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-130" value="R9&lt;br&gt;(projection of new z with old z)" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontSize=16;" parent="SqvEXbBRjMXHBvI3jpd7-127" vertex="1">
          <mxGeometry x="257" width="123" height="90" as="geometry">
            <mxRectangle width="123" height="90" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-142" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="SqvEXbBRjMXHBvI3jpd7-131" target="SqvEXbBRjMXHBvI3jpd7-141" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-131" value="Normalize&lt;br&gt;x/norm(x)&lt;br&gt;(3)" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1170" y="256.25" width="80" height="73.75" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-144" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="SqvEXbBRjMXHBvI3jpd7-133" target="SqvEXbBRjMXHBvI3jpd7-143" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1420" y="394" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-133" value="(-R1, -R4, -R7) summed along entries -&amp;gt; up (is it y vector?)&lt;br&gt;(3)" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="962.5" y="366.88" width="165" height="53.75" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-186" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="SqvEXbBRjMXHBvI3jpd7-139" target="SqvEXbBRjMXHBvI3jpd7-161" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-139" value="height, width, focal length&lt;br&gt;(3)" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="967.5" y="96.25" width="165" height="53.75" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-145" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="SqvEXbBRjMXHBvI3jpd7-141" target="SqvEXbBRjMXHBvI3jpd7-143" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-148" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="SqvEXbBRjMXHBvI3jpd7-141" target="SqvEXbBRjMXHBvI3jpd7-146" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-158" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="SqvEXbBRjMXHBvI3jpd7-141" target="SqvEXbBRjMXHBvI3jpd7-154" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-141" value="Normalize&lt;br&gt;x/norm(x)&lt;br&gt;(3)" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1280" y="256.25" width="80" height="73.75" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-150" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="SqvEXbBRjMXHBvI3jpd7-143" target="SqvEXbBRjMXHBvI3jpd7-149" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-143" value="cross product&amp;nbsp;&lt;br&gt;(3)" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1380" y="320" width="80" height="40" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-153" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="SqvEXbBRjMXHBvI3jpd7-146" target="SqvEXbBRjMXHBvI3jpd7-152" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-146" value="cross product&amp;nbsp;&lt;br&gt;(3)" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1640" y="320" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-151" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="SqvEXbBRjMXHBvI3jpd7-149" target="SqvEXbBRjMXHBvI3jpd7-146" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-155" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="SqvEXbBRjMXHBvI3jpd7-149" target="SqvEXbBRjMXHBvI3jpd7-154" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1550" y="390" />
              <mxPoint x="1760" y="390" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-149" value="Normalize&lt;br&gt;vec0" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1510" y="320" width="80" height="40" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-156" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="SqvEXbBRjMXHBvI3jpd7-152" target="SqvEXbBRjMXHBvI3jpd7-154" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-152" value="Normalize&lt;br&gt;vec1" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1780" y="320" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-162" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="SqvEXbBRjMXHBvI3jpd7-154" target="SqvEXbBRjMXHBvI3jpd7-161" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-154" value="stack&lt;br&gt;[vec0, vec1, vec2, center] -&amp;gt; m&lt;br&gt;(3x4)" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1940" y="389.38" width="150" height="67.5" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-160" value="viewmatrix" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="2030" y="476.25" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-166" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="SqvEXbBRjMXHBvI3jpd7-161" target="SqvEXbBRjMXHBvI3jpd7-165" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-161" value="concatenate&lt;br&gt;[m, hwf] -&amp;gt; c2w&lt;br&gt;(3x5)" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2170" y="392.82" width="110" height="60.62" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-164" value="poses_avg" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="2210" y="50" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-170" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="SqvEXbBRjMXHBvI3jpd7-165" target="SqvEXbBRjMXHBvI3jpd7-169" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-165" value="concatenate&lt;br&gt;[c2w[:3, :4],&lt;br&gt;[[0, 0, 0, 1]]&lt;br&gt;(4x4)" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2360" y="392.82" width="110" height="60.62" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-173" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="SqvEXbBRjMXHBvI3jpd7-168" target="SqvEXbBRjMXHBvI3jpd7-172" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-168" value="concatenate&lt;br&gt;[poses[:n, :3, :4],&lt;br&gt;[n of [0, 0, 0, 1]]&lt;br&gt;(nx4x4)" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2360" y="290" width="110" height="60.62" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-174" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="SqvEXbBRjMXHBvI3jpd7-169" target="SqvEXbBRjMXHBvI3jpd7-172" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-169" value="matrix&lt;br&gt;inverse&lt;br&gt;(4x4)" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2520" y="395.40000000000003" width="100" height="55.46" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-176" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="SqvEXbBRjMXHBvI3jpd7-172" target="SqvEXbBRjMXHBvI3jpd7-175" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-172" value="matrix &lt;br&gt;multiplication&lt;br&gt;(nx4x4)" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="2680" y="332.82" width="110" height="47.18" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-181" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="SqvEXbBRjMXHBvI3jpd7-175" target="SqvEXbBRjMXHBvI3jpd7-180" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-183" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="SqvEXbBRjMXHBvI3jpd7-175" target="SqvEXbBRjMXHBvI3jpd7-182" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-194" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="SqvEXbBRjMXHBvI3jpd7-175" target="SqvEXbBRjMXHBvI3jpd7-193" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-230" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="SqvEXbBRjMXHBvI3jpd7-175" target="SqvEXbBRjMXHBvI3jpd7-229" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="3040" y="356" />
              <mxPoint x="3040" y="100" />
              <mxPoint x="5040" y="100" />
              <mxPoint x="5040" y="436" />
              <mxPoint x="5180" y="436" />
              <mxPoint x="5180" y="438" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-175" value="Merge&lt;br&gt;poses_new[:, :3, :4]&lt;br&gt;with old poses&lt;br&gt;nx3x5" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="2840" y="312.82" width="139" height="87.18" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-179" value="recenter_poses" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="2910" y="-100" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-208" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="SqvEXbBRjMXHBvI3jpd7-180" target="SqvEXbBRjMXHBvI3jpd7-206" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-180" value="poses_avg&lt;br&gt;c2w&lt;br&gt;(3x5)" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="3090" y="386.26" width="101" height="67.18" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-185" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="SqvEXbBRjMXHBvI3jpd7-182" target="SqvEXbBRjMXHBvI3jpd7-184" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-182" value="(-R1, -R4, -R7) summed along entries -&amp;gt; up (is it y vector?)&lt;br style=&quot;border-color: var(--border-color);&quot;&gt;(3)" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="3065.5" y="220" width="170" height="60" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-218" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="SqvEXbBRjMXHBvI3jpd7-184" target="SqvEXbBRjMXHBvI3jpd7-216" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-184" value="Normalize -&amp;gt;&amp;nbsp;&lt;br&gt;up" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="3260" y="230" width="80" height="40" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-210" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="SqvEXbBRjMXHBvI3jpd7-187" target="SqvEXbBRjMXHBvI3jpd7-209" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-187" value="Find mean depth through harmonic mean:&lt;br&gt;1 / (((1 - dt)/(bounds.min() * 0.9)) + (dt/(bounds.max() * 5))) -&amp;gt; focal" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="3040" y="950" width="260" height="80" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-204" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="SqvEXbBRjMXHBvI3jpd7-193" target="SqvEXbBRjMXHBvI3jpd7-202" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-193" value="rads -&amp;gt;&lt;br&gt;90th percentile of abs(poses[:, :3, 3])&lt;br&gt;(3)" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="3081" y="550" width="139" height="87.18" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-197" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="SqvEXbBRjMXHBvI3jpd7-195" target="SqvEXbBRjMXHBvI3jpd7-196" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-195" value="zrate&lt;br&gt;number of rotations&lt;br&gt;Number of views" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="3100" y="780" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-199" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="SqvEXbBRjMXHBvI3jpd7-196" target="SqvEXbBRjMXHBvI3jpd7-198" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-196" value="Uniformaly sample theta based on number of rots and number of views:&lt;br&gt;np.linspace(0, 2*pi*n_rots, N + 1)" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="3260" y="780" width="170" height="90" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-203" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="SqvEXbBRjMXHBvI3jpd7-198" target="SqvEXbBRjMXHBvI3jpd7-202" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-198" value="Find the x, y and z displacements as&amp;nbsp;&lt;br&gt;cos(theta), -sin(theta) and -sin(z_rate * theta)&lt;br&gt;(3)" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="3540" y="690.0000000000001" width="170" height="90" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-200" value="For each theta (thetha hee is the angle between the camera ray and xy plane&#39;s origin. The camera is considered as the origin in the real workd frame for this" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="3460" y="830" width="240" height="100" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-207" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="SqvEXbBRjMXHBvI3jpd7-202" target="SqvEXbBRjMXHBvI3jpd7-206" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-202" value="Scsaling the displacement with the radius of the spiral path&lt;br&gt;[x, y, z, 1] * rads&lt;br&gt;(4)" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="3720" y="550.0000000000001" width="170" height="90" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-205" value="These are unit displacements" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="3710" y="720" width="170" height="50" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-213" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="SqvEXbBRjMXHBvI3jpd7-206" target="SqvEXbBRjMXHBvI3jpd7-211" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-219" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.25;entryY=0;entryDx=0;entryDy=0;" parent="1" source="SqvEXbBRjMXHBvI3jpd7-206" target="SqvEXbBRjMXHBvI3jpd7-216" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-206" value="Convert to real world coordinate system:&lt;br&gt;dot([x, y, z, 1] * rads, c2w[:3, :4)&lt;br&gt;(3) -&amp;gt; c" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="3900" y="395.4000000000001" width="170" height="90" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-212" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="SqvEXbBRjMXHBvI3jpd7-209" target="SqvEXbBRjMXHBvI3jpd7-211" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-209" value="Convert mean depth to real world coordinate system:&lt;br&gt;dot(c2w[:3, :4],&amp;nbsp;&lt;br&gt;[0, 0, -focal, 1])&lt;br&gt;(3)&lt;br&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="3370" y="955" width="290" height="70" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-215" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="SqvEXbBRjMXHBvI3jpd7-211" target="SqvEXbBRjMXHBvI3jpd7-214" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-211" value="Subtract camera center with the mean depth&lt;br&gt;(3) -&amp;gt; z" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="4200" y="600" width="160" height="70" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-217" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="SqvEXbBRjMXHBvI3jpd7-214" target="SqvEXbBRjMXHBvI3jpd7-216" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-214" value="Normalize&lt;br&gt;(3)" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="4420" y="615" width="90" height="40" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-221" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="SqvEXbBRjMXHBvI3jpd7-216" target="SqvEXbBRjMXHBvI3jpd7-220" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-216" value="viewmatrix(z, up, c)&lt;br&gt;(3x4)" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="4560" y="605" width="140" height="65" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-225" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="SqvEXbBRjMXHBvI3jpd7-220" target="SqvEXbBRjMXHBvI3jpd7-224" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-220" value="concat with hwf from pose arary&lt;br&gt;(3 x 5)" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="4750" y="602.5" width="120" height="65" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-223" value="render_spiral_path" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="4720" y="190" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-227" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="SqvEXbBRjMXHBvI3jpd7-224" target="SqvEXbBRjMXHBvI3jpd7-226" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-224" value="rendered poses from spiral path&lt;br&gt;(Number of views, 3, 5)&lt;br&gt;-&amp;gt; render poses" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="4950" y="602.5" width="130" height="65" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-226" value="render_poses&lt;br&gt;(Number of views, 3, 5)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="5190" y="620" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-248" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="SqvEXbBRjMXHBvI3jpd7-229" target="SqvEXbBRjMXHBvI3jpd7-247" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-251" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="SqvEXbBRjMXHBvI3jpd7-229" target="SqvEXbBRjMXHBvI3jpd7-250" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-229" value="recentered poses&lt;br&gt;(n x 3 x 5)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="5190" y="417.51" width="140" height="39.37" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-232" value="bounds&lt;br&gt;n x 2" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="5190" y="790" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-257" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="SqvEXbBRjMXHBvI3jpd7-235" target="SqvEXbBRjMXHBvI3jpd7-256" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-235" value="images&lt;br&gt;n x h x w x 3" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="5190" y="910" width="140" height="40" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-236" value="poses.npy&lt;br&gt;n x 17" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-300" y="430" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-239" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.42;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="SqvEXbBRjMXHBvI3jpd7-236" target="SqvEXbBRjMXHBvI3jpd7-238" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-240" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;load_llff_data&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="4990" y="-260" width="90" height="20" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-249" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="SqvEXbBRjMXHBvI3jpd7-243" target="SqvEXbBRjMXHBvI3jpd7-247" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-243" value="(Meshgrid(W, H) - (W//2, H//2)) / focal_length&lt;br&gt;This computes the direction of the rays from camera to each pixel location&lt;br&gt;HxWx3" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="5400" y="307.51" width="165" height="110" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-253" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="SqvEXbBRjMXHBvI3jpd7-247" target="SqvEXbBRjMXHBvI3jpd7-252" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-247" value="Convert to real world coordinate system&lt;br&gt;n x H x W x 3&lt;br&gt;-&amp;gt; rays_d" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="5580" y="425.4" width="170" height="94.6" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-254" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="SqvEXbBRjMXHBvI3jpd7-250" target="SqvEXbBRjMXHBvI3jpd7-252" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-250" value="broadcast poses[:, :3, 3] (translation/origin) to n x H x W x 3&lt;br&gt;-&amp;gt; rays_o" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="5580" y="555" width="160" height="80" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-258" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="SqvEXbBRjMXHBvI3jpd7-252" target="SqvEXbBRjMXHBvI3jpd7-256" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-252" value="stack:&lt;br&gt;n x 2 x H x W x 3&lt;br&gt;-&amp;gt; rays" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="5841" y="490" width="170" height="94.6" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-260" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="SqvEXbBRjMXHBvI3jpd7-256" target="SqvEXbBRjMXHBvI3jpd7-259" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-256" value="stack:&lt;br&gt;n x 3 x H x W x 3&lt;br&gt;-&amp;gt; rays_rgb" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="6050" y="605.4" width="170" height="94.6" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-262" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="SqvEXbBRjMXHBvI3jpd7-259" target="SqvEXbBRjMXHBvI3jpd7-261" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-259" value="transpose and reshape:&lt;br&gt;(n*H*W) x 3 x 3" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="6270" y="605" width="170" height="94.6" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-264" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="SqvEXbBRjMXHBvI3jpd7-261" target="SqvEXbBRjMXHBvI3jpd7-263" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-265" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="SqvEXbBRjMXHBvI3jpd7-261" target="SqvEXbBRjMXHBvI3jpd7-263" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-266" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="SqvEXbBRjMXHBvI3jpd7-261" target="SqvEXbBRjMXHBvI3jpd7-263" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-268" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="SqvEXbBRjMXHBvI3jpd7-261" target="SqvEXbBRjMXHBvI3jpd7-263" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-269" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="SqvEXbBRjMXHBvI3jpd7-261" target="SqvEXbBRjMXHBvI3jpd7-263" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-271" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="SqvEXbBRjMXHBvI3jpd7-261" target="SqvEXbBRjMXHBvI3jpd7-270" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-261" value="Batch and transpose:&lt;br&gt;&amp;nbsp;3 * batch_size&lt;br&gt;* 3 -&amp;gt; batch" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="6510" y="605" width="170" height="94.6" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-273" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="SqvEXbBRjMXHBvI3jpd7-263" target="SqvEXbBRjMXHBvI3jpd7-272" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-3" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="SqvEXbBRjMXHBvI3jpd7-263" target="4tizs78YW9SBr6ShEjhp-2">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-4" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="SqvEXbBRjMXHBvI3jpd7-263" target="4tizs78YW9SBr6ShEjhp-2">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-5" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="SqvEXbBRjMXHBvI3jpd7-263" target="4tizs78YW9SBr6ShEjhp-2">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-7" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="SqvEXbBRjMXHBvI3jpd7-263" target="4tizs78YW9SBr6ShEjhp-6">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="6930" y="620" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="6950" y="602" />
              <mxPoint x="6950" y="620" />
              <mxPoint x="7080" y="620" />
              <mxPoint x="7080" y="638" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-263" value="Get the inputs rays (rays_d, rays_o):&lt;br&gt;batch[:2]&lt;br&gt;&amp;nbsp;2 * batch_size&lt;br&gt;* 3 -&amp;gt;&amp;nbsp;" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="6740" y="555" width="170" height="94.6" as="geometry" />
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-120" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.75;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="SqvEXbBRjMXHBvI3jpd7-270" target="4tizs78YW9SBr6ShEjhp-118">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="6990" y="735" />
              <mxPoint x="6990" y="950" />
              <mxPoint x="12788" y="950" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-125" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="SqvEXbBRjMXHBvI3jpd7-270" target="4tizs78YW9SBr6ShEjhp-123">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="6990" y="735" />
              <mxPoint x="6990" y="950" />
              <mxPoint x="11095" y="950" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-270" value="Get the targets: rgb images&lt;br&gt;batch[2]&lt;br&gt;1 * batch_size * 3" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="6740" y="699.6" width="150" height="70.4" as="geometry" />
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-21" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="SqvEXbBRjMXHBvI3jpd7-272" target="4tizs78YW9SBr6ShEjhp-17">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SqvEXbBRjMXHBvI3jpd7-272" value="Normalize rays_d&lt;br&gt;-&amp;gt; viewdirs" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="6940" y="425.4" width="140" height="43.75" as="geometry" />
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-1" value="OpenCV format (-y, x, z)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="190" y="-220" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="4tizs78YW9SBr6ShEjhp-2" target="4tizs78YW9SBr6ShEjhp-6">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-2" value="shift rays_o to near plane, z = -near. This uses the parametric ray equation p(t) = o + t*rays_d&lt;br&gt;This is done only for z axis, since the shift is only along z axis.&lt;br&gt;-&amp;gt; ray_o&lt;br&gt;(batch_size x 3)" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="7030" y="493" width="180" height="114.6" as="geometry" />
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-20" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="4tizs78YW9SBr6ShEjhp-6" target="4tizs78YW9SBr6ShEjhp-17">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-6" value="shift rays_d&amp;nbsp; and ray_o to Normalized Device Coordinates using perspective projection&lt;br&gt;batch_size x 3, batch_size x 3" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="7250" y="590.1999999999999" width="170" height="94.6" as="geometry" />
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-10" value="ndc_rays" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="7370" y="455" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-12" value="get_rays" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="5910" y="242.82" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-22" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="4tizs78YW9SBr6ShEjhp-13" target="4tizs78YW9SBr6ShEjhp-17">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-13" value="near bound (zeroes)&lt;br&gt;batch_size" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="7310" y="720" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-23" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="4tizs78YW9SBr6ShEjhp-14" target="4tizs78YW9SBr6ShEjhp-17">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-14" value="far bound (ones)&lt;br&gt;batch_size" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="7310" y="795" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-34" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="4tizs78YW9SBr6ShEjhp-17" target="4tizs78YW9SBr6ShEjhp-30">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="7730" y="588.5066666666667" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-36" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="4tizs78YW9SBr6ShEjhp-17" target="4tizs78YW9SBr6ShEjhp-35">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="7730" y="588.44" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-47" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="4tizs78YW9SBr6ShEjhp-17" target="4tizs78YW9SBr6ShEjhp-46">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="7710" y="590" />
              <mxPoint x="7710" y="697" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-17" value="concatentate&lt;br&gt;batch_size x 11&lt;br&gt;-&amp;gt; rays" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="7550" y="560" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-27" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="4tizs78YW9SBr6ShEjhp-24" target="4tizs78YW9SBr6ShEjhp-26">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-24" value="Sample points along near to far bounds (0, 1). These are z values for the points along each ray.&lt;br&gt;N_samples" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="7730" y="327.82" width="230" height="60" as="geometry" />
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-29" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="4tizs78YW9SBr6ShEjhp-26" target="4tizs78YW9SBr6ShEjhp-28">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-26" value="Expand for each ray/batch&lt;br&gt;(batch_size, N_samples)&lt;br&gt;-&amp;gt; z_vals" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="7990" y="328.44" width="230" height="60" as="geometry" />
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-38" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="4tizs78YW9SBr6ShEjhp-28" target="4tizs78YW9SBr6ShEjhp-37">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-88" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="4tizs78YW9SBr6ShEjhp-28" target="4tizs78YW9SBr6ShEjhp-86">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="8310" y="460" />
              <mxPoint x="8310" y="370" />
              <mxPoint x="10240" y="370" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-97" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="4tizs78YW9SBr6ShEjhp-28" target="4tizs78YW9SBr6ShEjhp-96">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="8260" y="459" />
              <mxPoint x="8260" y="190" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-28" value="Apply random perturbation&lt;br&gt;(batch_size, N_samples)&lt;br&gt;-&amp;gt; z_vals" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="8000" y="429.07" width="205" height="60.93" as="geometry" />
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-39" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="4tizs78YW9SBr6ShEjhp-30" target="4tizs78YW9SBr6ShEjhp-37">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-30" value="rays_0" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="7850" y="540.3" width="70" height="20" as="geometry" />
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-40" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="4tizs78YW9SBr6ShEjhp-35" target="4tizs78YW9SBr6ShEjhp-37">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-35" value="rays_d" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="7850" y="618.44" width="70" height="20" as="geometry" />
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-42" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="4tizs78YW9SBr6ShEjhp-37" target="4tizs78YW9SBr6ShEjhp-41">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-37" value="Generate points for training using the parametric equation:&lt;br&gt;p(t) = rays_o + t*rays_d&lt;br&gt;(batch_size, N_samples 3)" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="7990" y="548.44" width="210" height="82.5" as="geometry" />
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-44" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="4tizs78YW9SBr6ShEjhp-41" target="4tizs78YW9SBr6ShEjhp-43">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-41" value="Flatten/reshape&lt;br&gt;(batch_size * N_samples, 3)" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="8250" y="559.22" width="140" height="61.56" as="geometry" />
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-57" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="4tizs78YW9SBr6ShEjhp-43" target="4tizs78YW9SBr6ShEjhp-56">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-43" value="Embedding layer&lt;br&gt;(batch_size * N_samples, 63)" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="8470" y="559.22" width="140" height="61.56" as="geometry" />
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-50" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="4tizs78YW9SBr6ShEjhp-46" target="4tizs78YW9SBr6ShEjhp-49">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-46" value="Expand&lt;br&gt;(batch_size, N_samples, 3)&amp;nbsp;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="8000" y="667.5" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-48" value="viewdirs&lt;br&gt;batch_size x 3" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="7840" y="697.5" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-52" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="4tizs78YW9SBr6ShEjhp-49" target="4tizs78YW9SBr6ShEjhp-51">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-49" value="Flatten/reshape&lt;br&gt;(batch_size * N_samples, 3)" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="8180" y="667.5" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-63" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="4tizs78YW9SBr6ShEjhp-51" target="4tizs78YW9SBr6ShEjhp-62">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-51" value="Embedding layer&lt;br&gt;((batch_size * N_samples, 27)" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="8440" y="684.8" width="150" height="72.5" as="geometry" />
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-59" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="4tizs78YW9SBr6ShEjhp-56" target="4tizs78YW9SBr6ShEjhp-58">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-61" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="4tizs78YW9SBr6ShEjhp-56" target="4tizs78YW9SBr6ShEjhp-60">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-56" value="MLP with linear + relu and 1 skip layer (default)&lt;br&gt;(batch_size * N_samples, 256)" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="8660" y="559.22" width="170" height="61.56" as="geometry" />
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-70" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="4tizs78YW9SBr6ShEjhp-58" target="4tizs78YW9SBr6ShEjhp-69">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-58" value="Linear layer (alpha/density prediction)&lt;br&gt;(batch_size * N_samples, 1)" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="8870" y="486.88" width="170" height="61.56" as="geometry" />
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-64" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="4tizs78YW9SBr6ShEjhp-60" target="4tizs78YW9SBr6ShEjhp-62">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-60" value="Linear layer (feature)&lt;br&gt;(batch_size * N_samples, 256)" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="8870" y="623.24" width="170" height="61.56" as="geometry" />
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-66" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="4tizs78YW9SBr6ShEjhp-62" target="4tizs78YW9SBr6ShEjhp-65">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-62" value="Concat&lt;br&gt;(batch_size * N_samples, 283)" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="9090" y="720" width="150" height="72.5" as="geometry" />
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-68" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="4tizs78YW9SBr6ShEjhp-65" target="4tizs78YW9SBr6ShEjhp-67">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-65" value="MLP with linear + relu&lt;br&gt;(batch_size * N_samples, 128)" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="9300" y="720" width="150" height="72.5" as="geometry" />
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-71" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="4tizs78YW9SBr6ShEjhp-67" target="4tizs78YW9SBr6ShEjhp-69">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-67" value="Linear layer (rgb predicction)&lt;br&gt;(batch_size * N_samples, 3)" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="9510" y="720" width="150" height="72.5" as="geometry" />
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-78" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="4tizs78YW9SBr6ShEjhp-69" target="4tizs78YW9SBr6ShEjhp-77">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-84" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="4tizs78YW9SBr6ShEjhp-69" target="4tizs78YW9SBr6ShEjhp-74">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="9920" y="652" />
              <mxPoint x="9920" y="728" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-69" value="Concat and reshape&amp;nbsp;&lt;br&gt;(batch_size, N_samples, 4)" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="9700" y="620.78" width="170" height="61.56" as="geometry" />
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-73" value="model_dense" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="9790" y="441.40999999999997" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-85" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="4tizs78YW9SBr6ShEjhp-74" target="4tizs78YW9SBr6ShEjhp-81">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-74" value="Sigmoid for rgb predictions&amp;nbsp;&lt;br&gt;(batch_size, N_samples, 3)&lt;br&gt;-&amp;gt; rgb" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="10200" y="697.5" width="170" height="61.56" as="geometry" />
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-80" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="4tizs78YW9SBr6ShEjhp-77" target="4tizs78YW9SBr6ShEjhp-79">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-77" value="Opacity computation from density&lt;br&gt;alpha = 1 - e^-(density*dists)&lt;br&gt;(batch_size, N_samples)&amp;nbsp;&lt;br&gt;-&amp;gt; alpha" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="9970" y="493" width="200" height="70" as="geometry" />
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-83" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.458;entryY=0.013;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="4tizs78YW9SBr6ShEjhp-79" target="4tizs78YW9SBr6ShEjhp-81">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-87" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="4tizs78YW9SBr6ShEjhp-79" target="4tizs78YW9SBr6ShEjhp-86">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-91" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" edge="1" parent="1" source="4tizs78YW9SBr6ShEjhp-79" target="4tizs78YW9SBr6ShEjhp-89">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-92" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.25;exitDx=0;exitDy=0;" edge="1" parent="1" source="4tizs78YW9SBr6ShEjhp-79">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="10630" y="500.4545454545455" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-98" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.75;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="4tizs78YW9SBr6ShEjhp-79" target="4tizs78YW9SBr6ShEjhp-99">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="10940" y="555.6666666666665" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-79" value="Weights computation:&lt;br&gt;opacity of current sample * cumulative product of transparency of all previous samples&lt;br&gt;(batch_size, N_samples)&lt;br&gt;-&amp;gt; weights" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="10230" y="473" width="250" height="110" as="geometry" />
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-124" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="4tizs78YW9SBr6ShEjhp-81" target="4tizs78YW9SBr6ShEjhp-123">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-81" value="Elementwise multiplication and sum along the samples&lt;br&gt;(batch_size, 3)&lt;br&gt;-&amp;gt; rgb_map" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="10510" y="589.22" width="190" height="80.78" as="geometry" />
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-90" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="4tizs78YW9SBr6ShEjhp-86" target="4tizs78YW9SBr6ShEjhp-89">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-86" value="depth map computation&lt;br&gt;(weights * z_vals) and sum along samples&lt;br&gt;(batch_size, 1)&lt;br&gt;-&amp;gt; depth_map" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="10240" y="332.82" width="230" height="73" as="geometry" />
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-89" value="disparity map computation&lt;br&gt;1 / (depth_map/sum(weights, -1))&lt;br&gt;(batch_size, 1)&lt;br&gt;-&amp;gt; disp_map" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="10550" y="332.82" width="230" height="73" as="geometry" />
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-93" value="sum(weights, -1)&lt;br&gt;(batch_size, 1)&lt;br&gt;-&amp;gt; acc_map" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="10630" y="460" width="230" height="73" as="geometry" />
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-95" value="volume rendering" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="10720" y="260" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-100" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="4tizs78YW9SBr6ShEjhp-96" target="4tizs78YW9SBr6ShEjhp-99">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-103" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="4tizs78YW9SBr6ShEjhp-96" target="4tizs78YW9SBr6ShEjhp-101">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-96" value="mid values of z_values:&lt;br&gt;z_vals[...:,1:] - z_vals[...,:-1]&lt;br&gt;-&amp;gt; z_vals_mid" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="10960" y="412.07" width="205" height="60.93" as="geometry" />
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-102" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="4tizs78YW9SBr6ShEjhp-99" target="4tizs78YW9SBr6ShEjhp-101">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-99" value="Hierarchical sampling&lt;br&gt;(Batch_size, N_samples)" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="10970" y="520" width="190" height="50" as="geometry" />
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-105" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="4tizs78YW9SBr6ShEjhp-101" target="4tizs78YW9SBr6ShEjhp-104">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-101" value="concatentate&lt;br&gt;(Batch_size, N_sample * 2)" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="11240" y="520" width="190" height="50" as="geometry" />
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-107" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="4tizs78YW9SBr6ShEjhp-104" target="4tizs78YW9SBr6ShEjhp-106">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-104" value="Generate points using parametric equation&lt;br&gt;(Batch_size, N_sample * 2, 3)" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="11510" y="520" width="190" height="50" as="geometry" />
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-109" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="4tizs78YW9SBr6ShEjhp-106" target="4tizs78YW9SBr6ShEjhp-108">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-106" value="Fine Network (same structure as dense network)&lt;br&gt;(batch_size,N_sample * 2, 4)" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="11770" y="504.6" width="210" height="80" as="geometry" />
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-111" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="4tizs78YW9SBr6ShEjhp-108" target="4tizs78YW9SBr6ShEjhp-110">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-113" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="4tizs78YW9SBr6ShEjhp-108" target="4tizs78YW9SBr6ShEjhp-112">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-115" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="4tizs78YW9SBr6ShEjhp-108" target="4tizs78YW9SBr6ShEjhp-114">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-117" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="4tizs78YW9SBr6ShEjhp-108" target="4tizs78YW9SBr6ShEjhp-116">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-108" value="Volumetric_rendering" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="12050" y="512.7" width="150" height="64.6" as="geometry" />
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-110" value="depth map&lt;br&gt;(batch_size)" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="12250" y="350.62000000000006" width="150" height="64.6" as="geometry" />
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-112" value="disp_map&lt;br&gt;(batch_size)" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="12250" y="437.70000000000005" width="150" height="64.6" as="geometry" />
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-119" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="4tizs78YW9SBr6ShEjhp-114" target="4tizs78YW9SBr6ShEjhp-118">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-114" value="rgb_map&lt;br&gt;(batch_size, 3)" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="12250" y="540.8000000000001" width="150" height="64.6" as="geometry" />
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-116" value="acc_map&lt;br&gt;(batch_size, 3)" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="12250" y="640.0000000000001" width="150" height="64.6" as="geometry" />
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-118" value="mse loss with target rgb values.&lt;br&gt;This is used to optimize the fine network" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="12600" y="348.4" width="250" height="131.6" as="geometry" />
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-121" value="target" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="12730" y="607.18" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-122" value="prediction" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="12600" y="547.3" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="4tizs78YW9SBr6ShEjhp-123" value="mse loss&lt;br&gt;Used to optimize dense network" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="11000" y="678.28" width="190" height="80.78" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
